<html>
	<head>
		<script src="https://unpkg.com/react@17.0.2/umd/react.production.min.js"></script>
		<script src="https://unpkg.com/react-dom@17.0.2/umd/react-dom.production.min.js"></script>
		<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
		<style>
			input {
				padding: 5px 10px;
				margin: 10px;
			}
		</style>
	</head>
	<body>
		<div id="root"></div>
	</body>

	<script type="text/babel">
		const MinutesToHours = () => {
			const [amount, setAmount] = React.useState();
			const [inverted, setInverted] = React.useState(false);
			const onChange = (event) => {
				const inputValue = event.target.value;
				setAmount(inputValue);
			};

			const reset = () => {
				setAmount("");
			};

			const onInverted = () => {
				reset();
				setInverted((current) => !current);
			};

			return (
				<div>
					<div>
						<label htmlFor="minutes">Minutes: </label>
						<input
							value={inverted ? amount * 60 : amount}
							id="minutes"
							type="number"
							placeholder="Minutes"
							disabled={inverted}
							onChange={onChange}
						/>
						<span> 분</span>
					</div>

					<br />
					<div>
						<label htmlFor="hours">Hours: </label>
						<input
							value={inverted ? amount : Math.round(amount / 60)}
							id="hours"
							type="number"
							placeholder="Hours"
							disabled={!inverted}
							onChange={onChange}
						/>
						<span> 시간</span>
					</div>
					<br />
					<button onClick={reset}>RESET</button>
					<br />
					<br />
					<button onClick={onInverted}>
						{inverted ? "Turn back" : "Invert"}
					</button>
				</div>
			);
		};
		const KmToMiles = () => {
			const [amount, setAmount] = React.useState();
			const [inverted, setInverted] = React.useState(false);
			const onChange = (event) => {
				const inputValue = event.target.value;
				setAmount(inputValue);
			};

			const reset = () => {
				setAmount("");
			};

			const onInverted = () => {
				reset();
				setInverted((current) => !current);
			};
			return (
				<div>
					<div>
						<label htmlFor="km">km: </label>
						<input
							value={inverted ? parseInt(amount * 1.61) : amount}
							id="km"
							type="number"
							placeholder="km"
							disabled={inverted}
							onChange={onChange}
						/>
						<span> km</span>
					</div>

					<br />
					<div>
						<label htmlFor="miles">miles: </label>
						<input
							value={inverted ? amount : parseInt(amount / 1.61)}
							id="miles"
							type="number"
							placeholder="miles"
							disabled={!inverted}
							onChange={onChange}
						/>
						<span> 마일</span>
					</div>
					<br />
					<button onClick={reset}>RESET</button>
					<br />
					<br />
					<button onClick={onInverted}>
						{inverted ? "Turn back" : "Invert"}
					</button>
				</div>
			);
		};

		const App = () => {
			const [index, setIndex] = React.useState("x");
			const onSelect = (event) => {
				setIndex(event.target.value);
			};
			return (
				<div>
					<h1>Super Converter</h1>
					<select name="" id="" value={index} onChange={onSelect}>
						<option value="x">-- Select your units -- </option>
						<option value="0">Minutes & Hours</option>
						<option value="1">km & miles</option>
					</select>
					<hr />
					{index === "0" ? <MinutesToHours /> : null}
					{index === "1" ? <KmToMiles /> : null}
				</div>
			);
		};
		const root = document.querySelector("#root");
		ReactDOM.render(<App />, root);
	</script>
</html>
